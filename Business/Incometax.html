<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>USA Income Tax Calculator â€“ Federal + State</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg:#f5f7fb;
  --card:#ffffff;
  --accent:#2563eb;
  --muted:#6b7280;
  --radius:14px;
  --shadow:0 10px 30px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:var(--bg);
}
.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
}
h1{
  text-align:center;
  color:var(--accent);
}
.grid{
  display:grid;
  grid-template-columns:420px 1fr;
  gap:20px;
}
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:20px;
}
label{
  font-size:13px;
  color:var(--muted);
}
input,select,button{
  width:100%;
  padding:10px;
  margin:6px 0 14px;
  border-radius:10px;
  border:1px solid #e5e7eb;
}
button{
  background:var(--accent);
  color:#fff;
  border:none;
  cursor:pointer;
}
button.secondary{
  background:#eef2ff;
  color:#111;
}
.results{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
}
.result{
  background:#f8fafc;
  border-radius:12px;
  padding:14px;
  text-align:center;
}
.result h3{
  margin:0;
  color:var(--accent);
}
.result small{color:var(--muted)}
canvas{margin-top:20px;max-height:280px}
@media(max-width:900px){
  .grid{grid-template-columns:1fr}
}
@media print{
  button{display:none}
}
</style>
</head>

<body>
<div class="container">
<h1>ðŸ‡ºðŸ‡¸ USA Income Tax Calculator (Federal + State)</h1>

<div class="grid">

<!-- INPUT -->
<div class="card">
<label>Filing Status</label>
<select id="status">
  <option value="single">Single</option>
  <option value="married">Married Filing Jointly</option>
  <option value="head">Head of Household</option>
</select>

<label>Annual Income ($)</label>
<input id="income" type="number" value="85000">

<label>Pre-Tax Deductions (401k / HSA)</label>
<input id="pretax" type="number" value="5000">

<label>Self-Employed?</label>
<select id="self">
  <option value="no">No</option>
  <option value="yes">Yes</option>
</select>

<label>Children (Child Tax Credit)</label>
<input id="kids" type="number" value="1">

<label>State</label>
<select id="state"></select>

<button onclick="calculate()">Calculate Tax</button>
<button class="secondary" onclick="resetAll()">Clear</button>
</div>

<!-- OUTPUT -->
<div class="card">
<div class="results">
  <div class="result"><h3 id="taxable">$0</h3><small>Taxable Income</small></div>
  <div class="result"><h3 id="federal">$0</h3><small>Federal Tax</small></div>
  <div class="result"><h3 id="stateTax">$0</h3><small>State Tax</small></div>

  <div class="result"><h3 id="payroll">$0</h3><small>Payroll / SE Tax</small></div>
  <div class="result"><h3 id="total">$0</h3><small>Total Tax</small></div>
  <div class="result"><h3 id="take">$0</h3><small>Take-Home Pay</small></div>

  <div class="result"><h3 id="rate">0%</h3><small>Effective Rate</small></div>
</div>

<canvas id="taxChart"></canvas>

<button class="secondary" onclick="window.print()">Print</button>
</div>

</div>
</div>

<script>
const states = {
 "No State Tax":0,
 "Alabama":0.05,"Alaska":0,"Arizona":0.045,"Arkansas":0.049,
 "California":0.06,"Colorado":0.044,"Connecticut":0.055,
 "Delaware":0.052,"Florida":0,"Georgia":0.055,"Hawaii":0.065,
 "Idaho":0.058,"Illinois":0.0495,"Indiana":0.032,
 "Iowa":0.057,"Kansas":0.053,"Kentucky":0.05,"Louisiana":0.04,
 "Maine":0.058,"Maryland":0.057,"Massachusetts":0.05,
 "Michigan":0.0425,"Minnesota":0.062,"Mississippi":0.05,
 "Missouri":0.049,"Montana":0.058,"Nebraska":0.055,
 "Nevada":0,"New Hampshire":0,"New Jersey":0.057,
 "New Mexico":0.049,"New York":0.058,"North Carolina":0.0475,
 "North Dakota":0.025,"Ohio":0.038,"Oklahoma":0.05,
 "Oregon":0.065,"Pennsylvania":0.0307,"Rhode Island":0.055,
 "South Carolina":0.052,"South Dakota":0,"Tennessee":0,
 "Texas":0,"Utah":0.0485,"Vermont":0.058,
 "Virginia":0.051,"Washington":0,"West Virginia":0.05,
 "Wisconsin":0.053,"Wyoming":0
};

const stateSelect = document.getElementById("state");
Object.keys(states).forEach(s=>{
  const o=document.createElement("option");
  o.value=s;o.textContent=s;
  stateSelect.appendChild(o);
});

function money(v){return "$"+Math.round(v).toLocaleString();}

function federalTaxCalc(income){
 let tax=0;
 if(income>11000){
  tax+=11000*0.10;
  tax+=(income-11000)*0.12;
 }else{
  tax+=income*0.10;
 }
 return tax;
}

let chart;

function calculate(){
 const income=+income.value||0;
 const pretax=+pretax.value||0;
 const status=status.value;
 const self=self.value;
 const kids=+kids.value||0;
 const state=stateSelect.value;

 const std={single:14600,married:29200,head:21900};
 let adj=Math.max(income-pretax,0);
 let taxable=Math.max(adj-std[status],0);

 let fed=federalTaxCalc(taxable);
 let ctc=Math.min(kids*2000,fed);
 fed-=ctc;

 let payroll=self==="yes"?adj*0.153:Math.min(adj,168600)*0.062+adj*0.0145;
 let st=adj*states[state];

 let total=fed+payroll+st;
 let take=income-total;
 let eff=income?total/income*100:0;

 taxableEl.innerText=money(taxable);
 federal.innerText=money(fed);
 stateTax.innerText=money(st);
 payroll.innerText=money(payroll);
 totalEl.innerText=money(total);
 takeEl.innerText=money(take);
 rate.innerText=eff.toFixed(1)+"%";

 if(chart)chart.destroy();
 chart=new Chart(taxChart,{
  type:"doughnut",
  data:{
   labels:["Federal","State","Payroll","Take Home"],
   datasets:[{
    data:[fed,st,payroll,take],
    backgroundColor:["#ef4444","#f59e0b","#8b5cf6","#22c55e"]
   }]
  }
 });
}

function resetAll(){
 document.querySelectorAll("input").forEach(i=>i.value="");
 document.querySelectorAll(".result h3").forEach(h=>h.innerText="$0");
 rate.innerText="0%";
 if(chart)chart.destroy();
}
</script>
</body>
</html>
