<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Professional Income Tax Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root {
  --blue-dark: #004c99;
  --blue-light: #e8f4ff;
  --teal: #009688;
  --success: #0a8f40;
  --danger: #d32f2f;
  --card-bg: #ffffff;
  --border: #d0d0d0;
  --radius: 12px;
  --pad: 14px;
}

body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f4f7fa;
  padding-bottom: 60px;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 20px;
}

h1 {
  font-size: 26px;
  text-align: center;
  font-weight: 700;
  margin-bottom: 20px;
}

/* SECTION HEADER */
.section-header {
  background: var(--blue-dark);
  color: white;
  padding: 12px 15px;
  border-radius: var(--radius);
  margin-top: 25px;
  font-weight: bold;
}

/* CARD */
.card {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: var(--pad);
  margin-bottom: 20px;
  border: 1px solid var(--border);
}

/* INPUT ELEMENTS */
input, select {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  margin-bottom: 16px;
  border-radius: var(--radius);
  border: 1px solid #ccc;
  font-size: 15px;
}

/* GRID */
.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
}

.grid-3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 15px;
}

@media(max-width:600px) {
  .grid-2, .grid-3 {
    grid-template-columns: 1fr;
  }
}

/* BUTTONS */
button {
  padding: 12px 22px;
  border: none;
  border-radius: var(--radius);
  font-size: 16px;
  cursor: pointer;
}

#calcBtn {
  background: var(--blue-dark);
  color: white;
}

#clearBtn {
  background: #888;
  color: white;
}

#pngBtn {
  background: var(--teal);
  color: white;
}

/* RESULTS */
#resultBox {
  margin-top: 25px;
}

.result-amount {
  font-size: 32px;
  font-weight: bold;
  color: var(--success);
  text-align: center;
  margin-bottom: 15px;
}

.result-table {
  background: white;
  border-radius: var(--radius);
  padding: 18px;
  border: 1px solid #cfcfcf;
}

.result-row {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid #e6e6e6;
}

.result-title {
  font-weight: bold;
}
</style>
</head>

<body>
<div class="container">

<h1>Professional Income Tax Calculator</h1>

<!-------------------- CURRENCY --------------------->
<div class="section-header">Currency</div>
<div class="card grid-2">
  <div>
    <label>Select Currency</label>
    <select id="currency">
      <option value="USD">$ USD</option>
      <option value="EUR">€ EUR</option>
      <option value="INR">₹ INR</option>
    </select>
  </div>

  <div>
    <label>Tax Year</label>
    <select id="taxYear">
      <option value="2024">2024</option>
      <option value="2025">2025</option>
      <option value="2026">2026</option>
      <option value="2027">2027</option>
      <option value="2028">2028</option>
    </select>
  </div>
</div>

<!---------------- FILE STATUS ---------------->
<div class="section-header">Filing Status & Personal Info</div>
<div class="card grid-2">
  <div>
    <label>Filing Status</label>
    <select id="status">
      <option value="single">Single</option>
      <option value="married_joint">Married Filing Jointly</option>
      <option value="married_separate">Married Filing Separately</option>
      <option value="head">Head of Household</option>
      <option value="widow">Qualified Widow(er)</option>
    </select>
  </div>

  <div>
    <label>Age</label>
    <input type="number" id="age" value="28">
  </div>
</div>

<!------------------ INCOME ------------------>
<div class="section-header">Income</div>
<div class="card grid-3">

  <div><label>Wages</label>
    <input id="wages" type="number" value="6000">
  </div>

  <div><label>Tips</label>
    <input id="tips" type="number" value="0">
  </div>

  <div><label>Business Income</label>
    <input id="biz" type="number" value="0">
  </div>

  <div><label>Social Security Income</label>
    <input id="ss" type="number" value="0">
  </div>

  <div><label>Interest Income</label>
    <input id="interest" type="number" value="0">
  </div>

  <div><label>Dividends</label>
    <input id="div" type="number" value="0">
  </div>

  <div><label>Qualified Dividends</label>
    <input id="qdiv" type="number" value="0">
  </div>

  <div><label>Long-Term Capital Gains</label>
    <input id="ltcg" type="number" value="0">
  </div>

  <div><label>Short-Term Capital Gains</label>
    <input id="stcg" type="number" value="0">
  </div>

  <div><label>Passive Income</label>
    <input id="passive" type="number" value="0">
  </div>

  <div><label>Other Income</label>
    <input id="otherIncome" type="number" value="0">
  </div>

</div>

<!---------------- DEDUCTIONS ---------------->
<div class="section-header">Deductions</div>
<div class="card">

  <label>Use Standard Deduction?</label>
  <select id="useStd">
    <option value="yes">Yes (Recommended)</option>
    <option value="no">No (Itemized)</option>
  </select>

  <div id="itemizedSection" style="display:none;" class="grid-2">
    <div>
      <label>Mortgage Interest</label>
      <input id="mortgage" type="number" value="0">
    </div>

    <div>
      <label>Real Estate Tax</label>
      <input id="realestate" type="number" value="0">
    </div>

    <div>
      <label>Charitable Donations</label>
      <input id="charity" type="number" value="0">
    </div>

    <div>
      <label>Student Loan Interest</label>
      <input id="studentLoan" type="number" value="0">
    </div>

    <div>
      <label>IRA Contributions</label>
      <input id="ira" type="number" value="0">
    </div>

    <div>
      <label>Other Deductibles</label>
      <input id="otherDed" type="number" value="0">
    </div>
  </div>

</div>

<!---------------- CREDITS ---------------->
<div class="section-header">Credits</div>
<div class="card grid-2">

  <div>
    <label>Child Tax Credit</label>
    <input id="ctc" type="number" value="0">
  </div>

  <div>
    <label>Education Credit</label>
    <input id="eduCredit" type="number" value="0">
  </div>

  <div>
    <label>Other Credits</label>
    <input id="otherCredits" type="number" value="0">
  </div>

</div>

<!---------------- WITHHOLDING ---------------->
<div class="section-header">Withholding & Taxes</div>
<div class="card grid-2">

  <div>
    <label>Federal Tax Withheld</label>
    <input id="withheld" type="number" value="4000">
  </div>

  <div>
    <label>Prepayments</label>
    <input id="prepay" type="number" value="0">
  </div>

  <div>
    <label>State Tax Withheld</label>
    <input id="stateW" type="number" value="0">
  </div>

  <div>
    <label>Local Tax Withheld</label>
    <input id="localW" type="number" value="0">
  </div>

  <div>
    <label>State Tax Rate (%)</label>
    <input id="stateRate" type="number" value="0">
  </div>

</div>

<!---------------- BUTTONS ---------------->
<div class="card" style="text-align:center;">
  <button id="calcBtn">Calculate</button>
  <button id="clearBtn">Clear</button>
  <button id="pngBtn">Download PNG</button>
</div>

<!---------------- RESULTS ---------------->
<div class="section-header">Results</div>
<div id="resultBox" class="card">

  <div id="refundAmount" class="result-amount">$0</div>

  <div class="result-table">

    <div class="result-row"><span class="result-title">Total Income</span>
      <span id="out_income">$0</span></div>

    <div class="result-row"><span class="result-title">Adjusted Gross Income (AGI)</span>
      <span id="out_agi">$0</span></div>

    <div class="result-row"><span class="result-title">Taxable Income</span>
      <span id="out_taxable">$0</span></div>

    <div class="result-row"><span class="result-title">Federal Income Tax</span>
      <span id="out_fedtax">$0</span></div>

    <div class="result-row"><span class="result-title">Credits Applied</span>
      <span id="out_credits">$0</span></div>

    <div class="result-row"><span class="result-title">State Tax</span>
      <span id="out_stateTax">$0</span></div>

    <div class="result-row"><span class="result-title">Total Prepayments</span>
      <span id="out_prepay">$0</span></div>

    <div class="result-row"><span class="result-title">Final Refund / Due</span>
      <span id="out_final">$0</span></div>
  </div>
</div>

</div><!-- end container -->

<script>
/* ================== CALCULATION LOGIC ================== */
function fmt(n, cur){
  const s = cur === "USD" ? "$" : cur === "EUR" ? "€" : "₹";
  return s + Number(n).toLocaleString();
}

function getStdDeduction(status, year){
  const base = {
    2024:{single:14500, married_joint:29000, married_separate:14500, head:21500, widow:29000},
    2025:{single:15750, married_joint:31500, married_separate:15750, head:23500, widow:31500},
    2026:{single:16000, married_joint:32000, married_separate:16000, head:24000, widow:32000},
    2027:{single:16500, married_joint:33000, married_separate:16500, head:25000, widow:33000},
    2028:{single:17000, married_joint:34000, married_separate:17000, head:26000, widow:34000}
  };
  return base[year][status];
}

function calculate(){
  let cur = document.getElementById("currency").value;

  /* income values */
  let wages = +wagesEl.value, tips = +tipsEl.value, biz = +bizEl.value, ss = +ssEl.value;
  let interest = +intEl.value, div = +divEl.value, qdiv = +qdivEl.value;
  let stcg = +stcgEl.value, ltcg = +ltcgEl.value, passive = +passiveEl.value;
  let other = +otherIncEl.value;

  let totalIncome = wages + tips + biz + ss + interest + div + qdiv + stcg + ltcg + passive + other;

  /* deductions */
  let useStd = document.getElementById("useStd").value;
  let year = document.getElementById("taxYear").value;
  let status = document.getElementById("status").value;

  let deduction = 0;

  if(useStd === "yes"){
    deduction = getStdDeduction(status, year);
  } else {
    deduction =
      (+mortgage.value) + (+realestate.value) + (+charity.value) +
      (+studentLoan.value) + (+ira.value) + (+otherDed.value);
  }

  let agi = totalIncome;
  let taxable = Math.max(agi - deduction, 0);

  /* VERY SIMPLE FEDERAL TAX RATE (demo only) */
  let fed = Math.round(taxable * 0.10); // 10% bracket

  /* credits */
  let credits = (+ctc.value) + (+eduCredit.value) + (+otherCredits.value);
  let finalFed = Math.max(fed - credits, 0);

  /* state tax */
  let stRate = +stateRate.value;
  let stateTax = Math.round(wages * stRate/100);

  /* prepayments */
  let finalPre = (+withheld.value) + (+prepay.value) + (+stateW.value) + (+localW.value);

  let finalRefund = finalPre - (finalFed + stateTax);

  /* DISPLAY */
  out_income.textContent = fmt(totalIncome, cur);
  out_agi.textContent = fmt(agi, cur);
  out_taxable.textContent = fmt(taxable, cur);
  out_fedtax.textContent = fmt(finalFed, cur);
  out_credits.textContent = fmt(credits, cur);
  out_stateTax.textContent = fmt(stateTax, cur);
  out_prepay.textContent = fmt(finalPre, cur);
  out_final.textContent = fmt(finalRefund, cur);

  refundAmount.textContent =
    finalRefund >= 0 ? fmt(finalRefund, cur) : "Due " + fmt(Math.abs(finalRefund), cur);
}

/* DOM Shortcuts */
const wagesEl = document.getElementById("wages");
const tipsEl = document.getElementById("tips");
const bizEl = document.getElementById("biz");
const ssEl = document.getElementById("ss");
const intEl = document.getElementById("interest");
const divEl = document.getElementById("div");
const qdivEl = document.getElementById("qdiv");
const stcgEl = document.getElementById("stcg");
const ltcgEl = document.getElementById("ltcg");
const passiveEl = document.getElementById("passive");
const otherIncEl = document.getElementById("otherIncome");

document.getElementById("calcBtn").onclick = calculate;

document.getElementById("useStd").onchange = (e)=>{
  document.getElementById("itemizedSection").style.display =
    e.target.value === "no" ? "block" : "none";
};

/* CLEAR */
document.getElementById("clearBtn").onclick = ()=>{
  location.reload();
};

/* PNG DOWNLOAD */
document.getElementById("pngBtn").onclick = ()=>{
  alert("PNG export will be enabled in next step (html2canvas).");
};
</script>

</body>
</html>
