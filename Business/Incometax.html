<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Professional Income Tax Calculator 2024–2028</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
:root{
  --teal:#0d9488;
  --teal-dark:#0f766e;
  --bg:#f3faf9;
  --card:#ffffff;
  --border:#e2e8f0;
  --text:#0f172a;
  --muted:#64748b;
  --danger:#dc2626;
  --success:#059669;
  --radius:14px;
  font-family:Inter, system-ui;
}

body{
  background:var(--bg);
  margin:0;
  padding:0;
  -webkit-font-smoothing:antialiased;
  color:var(--text);
}

.container{
  max-width:1050px;
  margin:20px auto;
  padding:12px;
}

.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:16px;
  box-shadow:0 4px 20px rgba(0,0,0,0.06);
  margin-bottom:16px;
  border:1px solid var(--border);
}

.cardTitle{
  font-size:22px;
  font-weight:800;
  color:var(--teal-dark);
  margin-bottom:14px;
  padding:10px 14px;
  background:#ccfbf1;
  border-radius:var(--radius);
}

.row{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
}
@media(max-width:700px){
  .row{ grid-template-columns:1fr; }
}

label{
  font-size:14px;
  font-weight:600;
  margin-bottom:4px;
  display:block;
}

input, select{
  width:100%;
  padding:12px;
  border-radius:var(--radius);
  border:1px solid var(--border);
  font-size:15px;
  background:white;
}

.section{
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:12px;
  margin-bottom:16px;
}

.section h3{
  margin:0 0 10px 0;
  font-size:18px;
  color:var(--teal-dark);
  font-weight:800;
}

.btnPrimary{
  background:var(--teal);
  color:white;
  padding:12px 18px;
  font-size:16px;
  border:0;
  border-radius:var(--radius);
  cursor:pointer;
  font-weight:700;
}

.btnSecondary{
  background:white;
  border:1px solid var(--border);
  padding:12px 18px;
  font-size:16px;
  border-radius:var(--radius);
  cursor:pointer;
  font-weight:700;
}

.actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}

.resultBox{
  padding:16px;
  border-radius:var(--radius);
  border:1px solid var(--border);
  background:white;
}

.resultLabel{
  font-size:16px;
  font-weight:700;
  color:var(--muted);
}

.resultValue{
  font-size:26px;
  font-weight:800;
  margin-top:4px;
  color:var(--teal-dark);
}

.refundPositive{
  color:var(--success)!important;
}

.refundNegative{
  color:var(--danger)!important;
}
</style>
</head>

<body>
<div class="container">

<div class="card">
  <h1 style="font-size:30px;font-weight:900;color:var(--teal-dark);margin:0;">
    Professional Income Tax Calculator
  </h1>
</div>

<!-- Currency Section -->
<div class="card">
  <div class="cardTitle">Currency</div>
  <div class="row">
    <div>
      <label>Select Currency</label>
      <select id="currency">
        <option value="USD" selected>USD ($)</option>
        <option value="EUR">EUR (€)</option>
        <option value="INR">INR (₹)</option>
      </select>
    </div>
    <div>
      <label>Tax Year</label>
      <select id="taxYear">
        <option>2024</option>
        <option>2025</option>
        <option>2026</option>
        <option>2027</option>
        <option>2028</option>
      </select>
    </div>
  </div>
</div>
<!-- Filing Status -->
<div class="card">
  <div class="cardTitle">Filing Status & Personal Info</div>
  <div class="row">
    <div>
      <label>Filing Status</label>
      <select id="filingStatus">
        <option value="single">Single</option>
        <option value="married_joint">Married Filing Jointly</option>
        <option value="married_separate">Married Filing Separately</option>
        <option value="head">Head of Household</option>
        <option value="widow">Qualified Widow(er)</option>
      </select>
    </div>
    <div>
      <label>Age</label>
      <input id="age" type="number" placeholder="28" value="28">
    </div>
  </div>
</div>

<!-- Income Section -->
<div class="card">
  <div class="cardTitle">Income</div>

  <div class="row">
    <div>
      <label>Wages</label>
      <input id="wages" type="number" value="6000">
    </div>

    <div>
      <label>Tips</label>
      <input id="tips" type="number" value="0">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Overtime</label>
      <input id="overtime" type="number" value="0">
    </div>

    <div>
      <label>Business Income</label>
      <input id="biz" type="number" value="0">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Social Security Income</label>
      <input id="ss" type="number" value="0">
    </div>

    <div>
      <label>Interest Income</label>
      <input id="interest" type="number" value="0">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Dividends</label>
      <input id="dividends" type="number" value="0">
    </div>

    <div>
      <label>Qualified Dividends</label>
      <input id="qdiv" type="number" value="0">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Passive Income</label>
      <input id="passive" type="number" value="0">
   div>

    <div>
      <label>Short-Term Capital Gains</label>
      <input id="stcg" type="number" value="0">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Long-Term Capital Gains</label>
      <input id="ltcg" type="number" value="0">
    </div>

    <div>
      <label>Other Income</label>
      <input id="otherIncome" type="number" value="0">
    </div>
  </div>
</div>

<!-- Deductions Section -->
<div class="card">
  <div class="cardTitle">Deductions</div>

  <label>Use Standard Deduction?</label>
  <select id="useStd">
    <option value="yes" selected>Yes</option>
    <option value="no">No (Itemized)</option>
  </select>

  <div id="itemizedBox" style="display:none;margin-top:12px;">
    <div class="row">
      <div>
        <label>Mortgage Interest</label>
        <input id="mortgage" type="number" value="0">
      </div>

      <div>
        <label>Real Estate Taxes</label>
        <input id="realestate" type="number" value="0">
      </div>
    </div>

    <div class="row">
      <div>
        <label>Charitable Contributions</label>
        <input id="charity" type="number" value="0">
      </div>

      <div>
        <label>Student Loan Interest</label>
        <input id="studentLoan" type="number" value="0">
      </div>
    </div>

    <div class="row">
      <div>
        <label>Car Loan Interest</label>
        <input id="carInterest" type="number" value="0">
      </div>

      <div>
        <label>IRA Contributions</label>
        <input id="ira" type="number" value="0">
      </div>
    </div>

    <div>
      <label>Other Deductions</label>
      <input id="otherDed" type="number" value="0">
    </div>
  </div>
</div>

<!-- Credits Section -->
<div class="card">
  <div class="cardTitle">Credits</div>
  <div class="row">
    <div>
      <label>Child Care Credit</label>
      <input id="childCare" type="number" value="0">
    </div>

    <div>
      <label>Education Credit</label>
      <input id="eduCredit" type="number" value="0">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Other Credits</label>
      <input id="otherCredits" type="number" value="0">
    </div>
    <div></div>
  </div>
</div>
<!-- Withholding & State Tax -->
<div class="card">
  <div class="cardTitle">Withholding & State Taxes</div>

  <div class="row">
    <div>
      <label>Federal Tax Withheld</label>
      <input id="withheld" type="number" value="4000">
    </div>

    <div>
      <label>Prepayments</label>
      <input id="prepayments" type="number" value="0">
    </div>
  </div>

  <div class="row">
    <div>
      <label>State Tax Withheld</label>
      <input id="stateWithheld" type="number" value="0">
    </div>

    <div>
      <label>Local Tax Withheld</label>
      <input id="localWithheld" type="number" value="0">
    </div>
  </div>

  <div>
    <label>State Tax Rate (%) — Approx</label>
    <input id="stateRate" type="number" value="0">
  </div>
</div>

<!-- ACTION BUTTONS -->
<div class="card">
  <div class="actions">
    <button class="btnPrimary" id="calcBtn">Calculate</button>
    <button class="btnSecondary" id="clearBtn">Clear</button>
    <button class="btnSecondary" id="pngBtn">Download PNG</button>
  </div>
</div>

<!-- RESULTS SECTION -->
<div class="card">
  <div class="cardTitle">Results</div>

  <div class="resultBox">
    <div class="resultLabel">Total Income</div>
    <div class="resultValue" id="out_totalIncome">$0</div>

    <div class="resultLabel" style="margin-top:10px;">Taxable Income</div>
    <div class="resultValue" id="out_taxable">$0</div>

    <div class="resultLabel" style="margin-top:10px;">Federal Income Tax</div>
    <div class="resultValue" id="out_regtax">$0</div>

    <div class="resultLabel" style="margin-top:10px;">Credits Applied</div>
    <div class="resultValue" id="out_credits">$0</div>

    <div class="resultLabel" style="margin-top:10px;">Total Tax Liability</div>
    <div class="resultValue" id="out_totalTax">$0</div>

    <div class="resultLabel" style="margin-top:10px;">Prepayments</div>
    <div class="resultValue" id="out_prepay">$0</div>

    <div class="resultLabel" style="margin-top:10px;">Estimated Refund</div>
    <div class="resultValue" id="estRefund">—</div>

    <div class="resultLabel" style="margin-top:10px;">Estimated State Tax</div>
    <div class="resultValue" id="out_stateTax">—</div>
  </div>
</div>

<script>
// ===============================
// UTILITIES
// ===============================

const $ = id => document.getElementById(id);

function fmt(n){
  return Number(n).toLocaleString(undefined, {maximumFractionDigits:0});
}
function fmtCurrency(n, cur){
  const map = {USD:'$', EUR:'€', INR:'₹'};
  return map[cur] + fmt(n);
}

// ===============================
// IRS STANDARD DEDUCTION — 2024-2028
// ===============================
const STD = {
  2024:{ single:14600, married_joint:29200, married_separate:14600, head:21900, widow:29200 },
  2025:{ single:15000, married_joint:30000, married_separate:15000, head:22500, widow:30000 },
  2026:{ single:15500, married_joint:31000, married_separate:15500, head:23200, widow:31000 },
  2027:{ single:16000, married_joint:32000, married_separate:16000, head:24000, widow:32000 },
  2028:{ single:16500, married_joint:33000, married_separate:16500, head:24800, widow:33000 }
};

// ===============================
// FEDERAL TAX BRACKETS 2024–2028
// ===============================
const BRACKETS = {
  2024:{
    single:[
      [11000,0.10],[44725,0.12],[95375,0.22],[182100,0.24],[231250,0.32],[578125,0.35],[Infinity,0.37]
    ],
    married_joint:[
      [22000,0.10],[89450,0.12],[190750,0.22],[364200,0.24],[462500,0.32],[693750,0.35],[Infinity,0.37]
    ],
    married_separate:[
      [11000,0.10],[44725,0.12],[95375,0.22],[182100,0.24],[231250,0.32],[578125,0.35],[Infinity,0.37]
    ],
    head:[
      [15700,0.10],[59850,0.12],[95350,0.22],[182100,0.24],[231250,0.32],[578100,0.35],[Infinity,0.37]
    ],
    widow:[
      [22000,0.10],[89450,0.12],[190750,0.22],[364200,0.24],[462500,0.32],[693750,0.35],[Infinity,0.37]
    ]
  },
  // REPEAT SAME BRACKETS FOR 2025–2028 (IRS COLA ESTIMATED)
  2025:this.2024,
  2026:this.2024,
  2027:this.2024,
  2028:this.2024
};

// ===============================
// TAX CALCULATION FUNCTION
// ===============================
function computeTax(income, year, status){
  const rows = BRACKETS[year][status];
  let tax = 0;
  let prev = 0;

  for(let [limit, rate] of rows){
    if(income > limit){
      tax += (limit - prev) * rate;
      prev = limit;
    } else {
      tax += (income - prev) * rate;
      break;
    }
  }

  return Math.max(0, tax);
}
  // ===============================
// MAIN CALCULATE FUNCTION
// ===============================
function calculate(){

  const cur = $('currency').value;
  const year = Number($('taxYear').value);
  const status = $('filingStatus').value;

  // INCOME INPUTS
  const v_wages = Number($('wages').value)||0;
  const v_tips = Number($('tips').value)||0;
  const v_ot = Number($('overtime').value)||0;
  const v_biz = Number($('biz').value)||0;
  const v_ss = Number($('ss').value)||0;
  const v_int = Number($('interest').value)||0;
  const v_div = Number($('dividends').value)||0;
  const v_qdiv = Number($('qdiv').value)||0;
  const v_passive = Number($('passive').value)||0;
  const v_stcg = Number($('stcg').value)||0;
  const v_ltcg = Number($('ltcg').value)||0;
  const v_othInc = Number($('otherIncome').value)||0;

  const totalIncome =
    v_wages+v_tips+v_ot+v_biz+v_ss+
    v_int+v_div+v_qdiv+v_passive+
    v_stcg+v_ltcg+v_othInc;

  // DEDUCTIONS
  const useStd = $('useStd').value === 'yes';
  let deduction = 0;

  if(useStd){
    deduction = STD[year][status];
  } else {
    const v_mort = Number($('mortgage').value)||0;
    const v_real = Number($('realestate').value)||0;
    const v_char = Number($('charity').value)||0;
    const v_stud = Number($('studentLoan').value)||0;
    const v_car = Number($('carInterest').value)||0;
    const v_ira = Number($('ira').value)||0;
    const v_otherD = Number($('otherDed').value)||0;

    deduction = v_mort + v_real + v_char + v_stud + v_car + v_ira + v_otherD;
  }

  const taxableIncome = Math.max(0, totalIncome - deduction);

  // FEDERAL TAX
  const fedTax = computeTax(taxableIncome, year, status);

  // CREDITS
  const v_childCare = Number($('childCare').value)||0;
  const v_eduCredit = Number($('eduCredit').value)||0;
  const v_otherCred = Number($('otherCredits').value)||0;

  const totalCredits = v_childCare + v_eduCredit + v_otherCred;

  // FINAL TAX LIABILITY
  const taxAfterCredits = Math.max(0, fedTax - totalCredits);

  // PREPAYMENTS
  const v_withheld = Number($('withheld').value)||0;
  const v_prepay = Number($('prepayments').value)||0;
  const v_stateWithheld = Number($('stateWithheld').value)||0;
  const v_localWithheld = Number($('localWithheld').value)||0;

  const prepayTotal = v_withheld + v_prepay + v_stateWithheld + v_localWithheld;

  // ESTIMATED REFUND
  const estimatedRefund = prepayTotal - taxAfterCredits;

  // STATE TAX
  const v_stateRate = Number($('stateRate').value)||0;
  const estStateTax = taxableIncome * (v_stateRate/100);

  // UPDATE UI
  $('out_totalIncome').textContent = fmtCurrency(totalIncome, cur);
  $('out_taxable').textContent = fmtCurrency(taxableIncome, cur);
  $('out_regtax').textContent = fmtCurrency(fedTax, cur);
  $('out_credits').textContent = fmtCurrency(totalCredits, cur);
  $('out_totalTax').textContent = fmtCurrency(taxAfterCredits, cur);
  $('out_prepay').textContent = fmtCurrency(prepayTotal, cur);
  $('out_stateTax').textContent = fmtCurrency(estStateTax, cur);

  const rf = $('estRefund');
  if(estimatedRefund >= 0){
    rf.textContent = fmtCurrency(estimatedRefund, cur);
    rf.classList.remove('refundNegative');
    rf.classList.add('refundPositive');
  } else {
    rf.textContent = "Due " + fmtCurrency(Math.abs(estimatedRefund), cur);
    rf.classList.remove('refundPositive');
    rf.classList.add('refundNegative');
  }
}

// ===============================
// ITEMIZED TOGGLE
// ===============================
$('useStd').addEventListener('change', ()=>{
  $('itemizedBox').style.display =
    $('useStd').value === 'no' ? 'block' : 'none';
});

// ===============================
// PNG EXPORT
// ===============================
$('pngBtn').addEventListener('click', ()=>{
  const card = document.querySelector('.card:last-of-type');
  html2canvas(card).then(canvas=>{
    const a = document.createElement('a');
    a.href = canvas.toDataURL('image/png');
    a.download = 'tax_result.png';
    a.click();
  });
});

// ===============================
// CLEAR FUNCTION
// ===============================
$('clearBtn').addEventListener('click', ()=>{
  $('wages').value = 6000;
  $('tips').value = 0;
  $('overtime').value = 0;
  $('biz').value = 0;
  $('ss').value = 0;
  $('interest').value = 0;
  $('dividends').value = 0;
  $('qdiv').value = 0;
  $('passive').value = 0;
  $('stcg').value = 0;
  $('ltcg').value = 0;
  $('otherIncome').value = 0;
  $('withheld').value = 4000;
  $('prepayments').value = 0;
  $('stateWithheld').value = 0;
  $('localWithheld').value = 0;
  $('stateRate').value = 0;
  $('age').value = 28;
  $('filingStatus').value = 'single';
  calculate();
});

// ===============================
// AUTO-CALCULATE ON LOAD
// ===============================
calculate();

</script>
</body>
</html>
