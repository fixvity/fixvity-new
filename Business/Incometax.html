<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>USA Income Tax Calculator â€“ Pro Max</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg:#f5f7fb;
  --card:#ffffff;
  --accent:#2563eb;
  --muted:#6b7280;
  --radius:14px;
  --shadow:0 10px 30px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:var(--bg);
}
.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
}
h1{
  text-align:center;
  color:var(--accent);
}
.grid{
  display:grid;
  grid-template-columns:420px 1fr;
  gap:20px;
}
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:20px;
}
label{font-size:13px;color:var(--muted)}
input,select,button{
  width:100%;
  padding:10px;
  margin:6px 0 14px;
  border-radius:10px;
  border:1px solid #e5e7eb;
}
button{
  background:var(--accent);
  color:#fff;
  border:none;
  cursor:pointer;
}
button.secondary{
  background:#eef2ff;
  color:#111;
}
.results{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
}
.result{
  background:#f8fafc;
  border-radius:12px;
  padding:14px;
  text-align:center;
}
.result h3{
  margin:0;
  color:var(--accent);
}
canvas{margin-top:20px;max-height:280px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}
@media print{button{display:none}}
</style>
</head>

<body>
<div class="container">
<h1>ðŸ‡ºðŸ‡¸ USA Income Tax Calculator (Pro-Max)</h1>

<div class="grid">

<!-- INPUT -->
<div class="card">
<label>Filing Status</label>
<select id="status">
  <option value="single">Single</option>
  <option value="married">Married Filing Jointly</option>
  <option value="hoh">Head of Household</option>
</select>

<label>Annual Income ($)</label>
<input id="income" type="number" value="85000">

<label>Pre-Tax Deductions (401k / HSA)</label>
<input id="pretax" type="number" value="5000">

<label>Self-Employed?</label>
<select id="self">
  <option value="no">No</option>
  <option value="yes">Yes</option>
</select>

<label>Children (Child Tax Credit)</label>
<input id="kids" type="number" value="1">

<label>State</label>
<select id="state"></select>

<button onclick="calculate()">Calculate</button>
<button class="secondary" onclick="resetAll()">Clear</button>
</div>

<!-- OUTPUT -->
<div class="card">
<div class="results">
  <div class="result"><h3 id="taxable">$0</h3><small>Taxable Income</small></div>
  <div class="result"><h3 id="federal">$0</h3><small>Federal Tax</small></div>
  <div class="result"><h3 id="stateTax">$0</h3><small>State Tax</small></div>

  <div class="result"><h3 id="payroll">$0</h3><small>Payroll / SE Tax</small></div>
  <div class="result"><h3 id="total">$0</h3><small>Total Tax</small></div>
  <div class="result"><h3 id="take">$0</h3><small>Take-Home Pay</small></div>

  <div class="result"><h3 id="rate">0%</h3><small>Effective Rate</small></div>
</div>

<canvas id="chart"></canvas>

<button class="secondary" onclick="window.print()">Print</button>
</div>

</div>
</div>

<script>
/* ---------- STATE TAX DATA ---------- */
const STATE_TAX={
 "No State Tax":{type:"none"},
 "Alaska":{type:"none"},"Florida":{type:"none"},"Texas":{type:"none"},
 "Nevada":{type:"none"},"Washington":{type:"none"},"Wyoming":{type:"none"},
 "Tennessee":{type:"none"},"New Hampshire":{type:"none"},

 "Illinois":{type:"flat",rate:0.0495},
 "Pennsylvania":{type:"flat",rate:0.0307},
 "Colorado":{type:"flat",rate:0.044},
 "Utah":{type:"flat",rate:0.0465},

 "California":{type:"progressive",brackets:[
  [10099,0.01],[23942,0.02],[37788,0.04],[52455,0.06],[66295,0.08]
 ]},
 "New York":{type:"progressive",brackets:[
  [8500,0.04],[11700,0.045],[13900,0.0525],[21400,0.059],[80650,0.0621]
 ]},
 "New Jersey":{type:"progressive",brackets:[
  [20000,0.014],[35000,0.0175],[40000,0.035],[75000,0.055]
 ]},
 "Georgia":{type:"progressive",brackets:[
  [750,0.01],[2250,0.02],[3750,0.03],[5250,0.04],[7000,0.05]
 ]}
};

/* Populate state dropdown */
const stateSel=document.getElementById("state");
Object.keys(STATE_TAX).forEach(s=>{
 let o=document.createElement("option");
 o.value=s;o.textContent=s;
 stateSel.appendChild(o);
});

/* ---------- FEDERAL DATA ---------- */
const STANDARD_DEDUCTION={
 single:14600, married:29200, hoh:21900
};

const FEDERAL_BRACKETS={
 single:[[11600,.10],[47150,.12],[100525,.22],[191950,.24]],
 married:[[23200,.10],[94300,.12],[201050,.22],[383900,.24]],
 hoh:[[16550,.10],[63100,.12],[100500,.22],[191950,.24]]
};

/* ---------- UTIL ---------- */
function money(v){return "$"+Math.round(v).toLocaleString();}

function progressiveTax(income,brackets){
 let tax=0,prev=0;
 for(const [limit,rate] of brackets){
  if(income>limit){
   tax+=(limit-prev)*rate;
   prev=limit;
  }else{
   tax+=(income-prev)*rate;
   return tax;
  }
 }
 return tax;
}

function stateTaxCalc(state,income){
 const s=STATE_TAX[state];
 if(!s||income<=0) return 0;
 if(s.type==="none") return 0;
 if(s.type==="flat") return income*s.rate;
 if(s.type==="progressive") return progressiveTax(income,s.brackets);
 return 0;
}

let chart;

/* ---------- MAIN ---------- */
function calculate(){
 const income=+document.getElementById("income").value||0;
 const pretax=+document.getElementById("pretax").value||0;
 const status=document.getElementById("status").value;
 const self=document.getElementById("self").value;
 const kids=+document.getElementById("kids").value||0;
 const state=document.getElementById("state").value;

 const adj=Math.max(income-pretax,0);
 const taxable=Math.max(adj-STANDARD_DEDUCTION[status],0);

 let fed=progressiveTax(taxable,FEDERAL_BRACKETS[status]);
 fed=Math.max(fed-kids*2000,0);

 let payroll=self==="yes"?adj*0.153:Math.min(adj,168600)*0.0765;
 let st=stateTaxCalc(state,adj);

 let total=fed+payroll+st;
 let take=income-total;
 let eff=income?(total/income*100):0;

 taxableEl.innerText=money(taxable);
 federal.innerText=money(fed);
 stateTax.innerText=money(st);
 payroll.innerText=money(payroll);
 total.innerText=money(total);
 take.innerText=money(take);
 rate.innerText=eff.toFixed(1)+"%";

 if(chart) chart.destroy();
 chart=new Chart(document.getElementById("chart"),{
  type:"pie",
  data:{
   labels:["Federal","State","Payroll","Take-Home"],
   datasets:[{
    data:[fed,st,payroll,take],
    backgroundColor:["#ef4444","#f59e0b","#8b5cf6","#22c55e"]
   }]
  }
 });
}

function resetAll(){
 document.querySelectorAll("input").forEach(i=>i.value=0);
 document.querySelectorAll(".result h3").forEach(h=>h.innerText="$0");
 rate.innerText="0%";
 if(chart) chart.destroy();
}
</script>
</body>
</html>
