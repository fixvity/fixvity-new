<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Income Tax Calculator — Estimator (2025-ready)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f4f7f9; --card:#ffffff; --accent:#2b6f6f; --muted:#6b7176; --panel:#e9eef0;
    --success:#10b981; --danger:#ef4444; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);-webkit-font-smoothing:antialiased;color:#0b1720}
  .wrap{max-width:1100px;margin:18px auto;padding:14px}
  .card{background:var(--card);border-radius:14px;padding:14px;box-shadow:0 10px 30px rgba(8,16,20,0.06)}
  h1{margin:0 0 10px;font-size:20px}
  .grid{display:grid;grid-template-columns:1fr;gap:12px}
  @media(min-width:980px){ .grid{grid-template-columns:420px 1fr} }
  /* form */
  label{display:block;font-weight:600;margin-bottom:6px;color:#344}
  .input, select {width:100%;padding:12px;border-radius:10px;border:1px solid rgba(8,16,20,0.06);font-size:15px;background:#fff}
  .small{font-size:13px;color:var(--muted);margin-top:4px}
  .row{display:flex;gap:8px}
  .row > *{flex:1}
  .controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-top:10px}
  .btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
  .btnPrimary{background:var(--accent);color:#fff}
  .btnGhost{background:#fff;border:1px solid rgba(8,16,20,0.06)}
  .sectionTitle{background:var(--panel);padding:10px;border-radius:8px;font-weight:700;margin:8px 0}
  /* results */
  .resultsPanel{padding:12px;border-radius:10px;background:linear-gradient(180deg,#fff,#fbfdff);border:1px solid rgba(8,16,20,0.04)}
  .summaryTop{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
  .bigNum{font-size:44px;font-weight:800;color:#0b3b3b}
  .labelSoft{font-size:14px;color:var(--muted)}
  .table{margin-top:12px;border-collapse:collapse;width:100%}
  .table td{padding:10px;border-bottom:1px solid rgba(8,16,20,0.03)}
  .table tr.header td{font-weight:800;background:#f0f7f7}
  .right{text-align:right}
  .note{font-size:13px;color:var(--muted);margin-top:10px}
  .flexRow{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  /* currency switch */
  .inline{display:inline-block}
  /* responsive tweaks */
  @media(max-width:520px){
    .bigNum{font-size:36px}
    h1{font-size:18px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Income Tax Estimator — Professional</h1>
      <div class="grid">
        <!-- LEFT: form -->
        <div>
          <div class="sectionTitle">Filing & Income</div>

          <label for="taxYear">Tax year</label>
          <select id="taxYear" class="input"></select>
          <div class="small">Return filing year (automatic).</div>

          <label for="status" style="margin-top:10px">Filing status</label>
          <select id="status" class="input">
            <option value="single">Single</option>
            <option value="married_joint">Married filing jointly</option>
            <option value="married_separate">Married filing separately</option>
            <option value="head">Head of household</option>
          </select>

          <label for="gross" style="margin-top:10px">Total gross income</label>
          <div class="row" style="align-items:center">
            <select id="currency" style="width:90px" class="input inline">
              <option value="USD">$ USD</option>
              <option value="INR">₹ INR</option>
              <option value="EUR">€ EUR</option>
            </select>
            <input id="gross" class="input" type="number" step="0.01" value="60000" />
          </div>
          <div class="small">Includes wages, tips, interest, dividends, capital gains, business income, etc.</div>

          <label for="stateRate" style="margin-top:10px">State + local tax rate (%)</label>
          <input id="stateRate" class="input" type="number" step="0.01" value="0" />
          <div class="small">Estimated combined state/local tax rate (optional).</div>

          <div class="sectionTitle" style="margin-top:12px">Deductions & Credits</div>

          <label for="useStd">Use standard deduction?</label>
          <select id="useStd" class="input">
            <option value="yes">Yes — take standard deduction</option>
            <option value="no">No — enter itemized deductions</option>
          </select>

          <div id="itemizedFields" style="display:none;margin-top:8px">
            <label>Itemized deductions (add totals)</label>
            <input id="itemized" class="input" type="number" value="0" />
            <div class="small">Mortgage interest, charitable, real-estate taxes, medical (if applicable), etc.</div>
          </div>

          <label style="margin-top:10px">Number of qualifying children (for child tax credit)</label>
          <input id="children" class="input" type="number" value="0" />

          <label style="margin-top:10px">Other tax credits (total)</label>
          <input id="otherCredits" class="input" type="number" value="0" />
          <div class="small">e.g., education credits, energy credits (enter combined amount)</div>

          <div class="sectionTitle" style="margin-top:12px">Withholding & Payments</div>
          <label>Federal tax withheld (W-2 box 2)</label>
          <input id="withheld" class="input" type="number" value="6000" />

          <label style="margin-top:10px">Other federal prepayments (estimated payments)</label>
          <input id="prepayments" class="input" type="number" value="0" />

          <div class="controls">
            <button id="calcBtn" class="btn btnPrimary">Calculate</button>
            <button id="clearBtn" class="btn btnGhost">Clear</button>
          </div>
          <div class="note">This estimator simplifies many special tax rules. Results are estimates only.</div>
        </div>

        <!-- RIGHT: results -->
        <div>
          <div class="resultsPanel">
            <div class="summaryTop">
              <div>
                <div class="labelSoft">Estimated refund / balance due for <span id="displayTaxYear"></span></div>
                <div style="display:flex;align-items:baseline;gap:10px">
                  <div id="estRefund" class="bigNum">—</div>
                  <div class="labelSoft">(federal)</div>
                </div>
              </div>
              <div style="margin-left:auto;text-align:right">
                <div class="labelSoft">Filing status</div>
                <div id="displayStatus" style="font-weight:800">—</div>
              </div>
            </div>

            <table class="table" aria-hidden="false">
              <tr class="header"><td>Total Income</td><td class="right" id="out_gross">$0</td></tr>
              <tr><td>Total Deductions</td><td class="right" id="out_ded">$0</td></tr>
              <tr><td>Taxable Income</td><td class="right" id="out_taxable">$0</td></tr>
              <tr><td>Estimated federal tax</td><td class="right" id="out_fed">$0</td></tr>
              <tr><td>All tax credits</td><td class="right" id="out_credits">$0</td></tr>
              <tr><td><strong>Total tax with credits</strong></td><td class="right" id="out_totalTax">$0</td></tr>
              <tr><td>Federal tax withheld + prepayments</td><td class="right" id="out_withheld">$0</td></tr>
              <tr style="background:#f7fff7;font-weight:800"><td>Estimated refund</td><td class="right" id="out_refund">$0</td></tr>
            </table>

            <div style="margin-top:12px">
              <div class="labelSoft">State tax (approx.)</div>
              <div style="display:flex;gap:8px;align-items:center;margin-top:6px">
                <div id="out_state" class="labelSoft">—</div>
                <div class="small">This uses your state rate and taxable income to estimate state tax.</div>
              </div>
            </div>

            <div class="note">Tax brackets & standard deduction used in this estimator are the 2025 federal values (sourced from Tax Foundation / public tables). Results are simplified estimates. See sources below.</div>
          </div>
        </div>
      </div>
    </div>

    <!-- sources & credits -->
    <div style="margin-top:12px;font-size:13px;color:var(--muted)">
      <strong>Sources:</strong> 2025 Federal tax brackets & standard deductions (Tax Foundation / public tables). Child Tax Credit guidance (IRS summary). Numbers may change with law — update tables as needed. 3
    </div>
  </div>

<script>
/*
  Income Tax Estimator
  - Uses 2025 federal brackets & standard deduction (hard-coded arrays below).
  - Simplified: calculates federal tax using progressive brackets, subtracts credits, then compares to withheld+prepayments.
  - State tax = taxable * stateRate (simple approx).
  - Tax year dropdown auto-populates (current year / previous year labels).
  - Please adjust bracket table in code if laws change.
*/

/* ---------- 2025 bracket tables & standard deduction ---------- 
   Values derived from public 2025 tables (Tax Foundation / IRS summaries). 
   See the project's sources listed in the page footer.
*/
const BRACKETS_2025 = {
  single: [
    {rate:0.10, upTo:11950},
    {rate:0.12, upTo:48750},
    {rate:0.22, upTo:127050},
    {rate:0.24, upTo:204900},
    {rate:0.32, upTo:510300},
    {rate:0.35, upTo:612350},
    {rate:0.37, upTo:Infinity}
  ],
  married_joint: [
    {rate:0.10, upTo:23900},
    {rate:0.12, upTo:97500},
    {rate:0.22, upTo:254100},
    {rate:0.24, upTo:409500},
    {rate:0.32, upTo:612350},
    {rate:0.35, upTo:732700},
    {rate:0.37, upTo:Infinity}
  ],
  married_separate: [
    {rate:0.10, upTo:11950},
    {rate:0.12, upTo:48750},
    {rate:0.22, upTo:127050},
    {rate:0.24, upTo:204900},
    {rate:0.32, upTo:306175},
    {rate:0.35, upTo:366350},
    {rate:0.37, upTo:Infinity}
  ],
  head: [
    {rate:0.10, upTo:17050},
    {rate:0.12, upTo:68600},
    {rate:0.22, upTo:139950},
    {rate:0.24, upTo:212400},
    {rate:0.32, upTo:530500},
    {rate:0.35, upTo:612350},
    {rate:0.37, upTo:Infinity}
  ]
};

/* 2025 standard deductions (public tables) */
const STD_2025 = {
  single: 15000,
  married_joint: 30000,
  married_separate: 15000,
  head: 22500
};

/* 2025 Child Tax Credit (quality/phaseout rules are complex; this estimator uses a per-child value as a simplified amount) */
const CHILD_CREDIT_SIMPLE = 2000; // simplified credit per qualifying child (use as baseline)

/* ---------- helper functions ---------- */
function formatCur(v, currency='USD'){
  if(isNaN(v)) return '-';
  const locales = {USD:'en-US', INR:'en-IN', EUR:'de-DE'};
  const opts = {style:'currency', currency: currency || 'USD', maximumFractionDigits:0};
  return new Intl.NumberFormat(locales[currency]||'en-US', opts).format(v);
}

/* compute progressive tax from bracket array */
function computeTaxFromBrackets(income, brackets){
  let tax = 0;
  let lower = 0;
  for(const b of brackets){
    const top = b.upTo;
    const taxableAtThisRate = Math.max(0, Math.min(income, top) - lower);
    if(taxableAtThisRate > 0){
      tax += taxableAtThisRate * b.rate;
    }
    lower = top;
    if(income <= top) break;
  }
  return tax;
}

/* ---------- UI wiring ---------- */
const taxYearSel = document.getElementById('taxYear');
const statusEl = document.getElementById('status');
const grossEl = document.getElementById('gross');
const currencyEl = document.getElementById('currency');
const stateRateEl = document.getElementById('stateRate');
const useStdEl = document.getElementById('useStd');
const itemizedEl = document.getElementById('itemized');
const itemizedFields = document.getElementById('itemizedFields');
const childrenEl = document.getElementById('children');
const otherCreditsEl = document.getElementById('otherCredits');
const withheldEl = document.getElementById('withheld');
const prepaymentsEl = document.getElementById('prepayments');

const estRefundEl = document.getElementById('estRefund');
const displayTaxYear = document.getElementById('displayTaxYear');
const displayStatus = document.getElementById('displayStatus');
const outGross = document.getElementById('out_gross');
const outDed = document.getElementById('out_ded');
const outTaxable = document.getElementById('out_taxable');
const outFed = document.getElementById('out_fed');
const outCredits = document.getElementById('out_credits');
const outTotalTax = document.getElementById('out_totalTax');
const outWithheld = document.getElementById('out_withheld');
const outRefund = document.getElementById('out_refund');
const outState = document.getElementById('out_state');

const calcBtn = document.getElementById('calcBtn');
const clearBtn = document.getElementById('clearBtn');

/* populate tax year options (default: most recent tax year = currentYear - 1; show label like "2025 (return filed in 2026)") */
(function initTaxYear(){
  const now = new Date();
  const currYear = now.getFullYear();
  // include a few years for selection (2024..2027) but default to previous calendar year as 'tax year'
  const years = [currYear-1, currYear, currYear+1];
  taxYearSel.innerHTML = '';
  years.forEach(y=>{
    const opt = document.createElement('option');
    opt.value = y;
    opt.textContent = `${y} (return filed in ${y+1})`;
    taxYearSel.appendChild(opt);
  });
  // set default to the most-recent tax year (currYear -1)
  taxYearSel.value = currYear-1;
  displayTaxYear.textContent = `${taxYearSel.value}`;
})();

useStdEl.addEventListener('change', ()=>{
  itemizedFields.style.display = (useStdEl.value === 'no') ? 'block' : 'none';
});

/* main calculate flow */
function calculate(){
  const currency = currencyEl.value || 'USD';
  const status = statusEl.value;
  const gross = Number(grossEl.value) || 0;
  const stateRate = Number(stateRateEl.value) || 0;
  const useStd = (useStdEl.value === 'yes');
  const itemized = Number(itemizedEl.value) || 0;
  const children = Math.max(0, Number(childrenEl.value) || 0);
  const otherCredits = Number(otherCreditsEl.value) || 0;
  const withheld = Number(withheldEl.value) || 0;
  const prepayments = Number(prepaymentsEl.value) || 0;

  // select the bracket set & standard deduction for chosen status
  const bracketKey = status;
  const brackets = BRACKETS_2025[bracketKey] || BRACKETS_2025['single'];
  const stdDed = STD_2025[bracketKey] || STD_2025['single'];
  const deductions = useStd ? stdDed : itemized;

  // compute taxable income
  const totalDeductions = Math.max(0, deductions);
  const taxable = Math.max(0, gross - totalDeductions);

  // compute base federal tax via brackets
  const fedTax = computeTaxFromBrackets(taxable, brackets);

  // compute credits
  const childCredit = children * CHILD_CREDIT_SIMPLE;
  const creditsTotal = childCredit + otherCredits;

  // total tax after credits (credits reduce tax liability)
  const taxAfterCredits = fedTax - creditsTotal;

  // total prepayments
  const totalPrepayments = withheld + prepayments;

  // estimated refund (positive) or balance due (negative)
  const est = totalPrepayments - taxAfterCredits;

  // state tax approximation
  const stateTax = taxable * (stateRate/100);

  // UI updates (currency formatted)
  displayStatus.textContent = statusEl.options[statusEl.selectedIndex].text;
  outGross.textContent = formatCur(gross, currency);
  outDed.textContent = formatCur(totalDeductions, currency);
  outTaxable.textContent = formatCur(taxable, currency);
  outFed.textContent = formatCur(Math.round(fedTax), currency);
  outCredits.textContent = formatCur(Math.round(creditsTotal), currency);
  outTotalTax.textContent = formatCur(Math.round(taxAfterCredits), currency);
  outWithheld.textContent = formatCur(totalPrepayments, currency);
  outRefund.textContent = formatCur(Math.round(est), currency);
  outState.textContent = formatCur(Math.round(stateTax), currency);

  // large top number (show refund if positive, else show "Due $X")
  if(est >= 0){
    estRefundEl.textContent = formatCur(Math.round(est), currency);
    estRefundEl.style.color = 'var(--success)';
  } else {
    estRefundEl.textContent = 'Due ' + formatCur(Math.abs(Math.round(est)), currency);
    estRefundEl.style.color = 'var(--danger)';
  }
}

/* bind events */
calcBtn.addEventListener('click', (e)=>{ e.preventDefault(); calculate(); });
clearBtn.addEventListener('click', (e)=>{ e.preventDefault();
  // reset to sane defaults
  grossEl.value = 60000; stateRateEl.value = 0; useStdEl.value='yes'; itemizedEl.value=0; itemizedFields.style.display='none';
  childrenEl.value=0; otherCreditsEl.value=0; withheldEl.value=0; prepaymentsEl.value=0;
  estRefundEl.textContent = '—';
  outGross.textContent = '$0'; outDed.textContent='$0'; outTaxable.textContent='$0'; outFed.textContent='$0';
  outCredits.textContent='$0'; outTotalTax.textContent='$0'; outWithheld.textContent='$0'; outRefund.textContent='$0'; outState.textContent='—';
});


// run an initial calculation for visual
calculate();

</script>
</body>
</html>
