<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>USA Income Tax Calculator (Pro-Max)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#f5f7fb;
  --card:#ffffff;
  --accent:#2563eb;
  --muted:#6b7280;
  --radius:14px;
  --shadow:0 10px 30px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:var(--bg);
  color:#111;
}
.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
}
h1{
  text-align:center;
  color:var(--accent);
}
.grid{
  display:grid;
  grid-template-columns:420px 1fr;
  gap:20px;
}
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:20px;
}
label{
  font-size:13px;
  color:var(--muted);
}
input,select,button{
  width:100%;
  padding:10px;
  margin:6px 0 14px;
  border-radius:10px;
  border:1px solid #e5e7eb;
}
button{
  background:var(--accent);
  color:#fff;
  border:none;
  cursor:pointer;
}
.results{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
}
.result{
  background:#f8fafc;
  border-radius:12px;
  padding:14px;
  text-align:center;
}
.result h3{
  margin:0;
  color:var(--accent);
}
small{color:var(--muted)}
@media(max-width:900px){
  .grid{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="container">
<h1>USA Income Tax Calculator (Federal + State)</h1>

<div class="grid">

<!-- INPUT -->
<div class="card">
<label>Filing Status</label>
<select id="status">
  <option value="single">Single</option>
  <option value="married">Married Filing Jointly</option>
  <option value="separate">Married Filing Separately</option>
  <option value="head">Head of Household</option>
</select>

<label>Annual Income ($)</label>
<input id="income" type="number" value="85000">

<label>Pre-Tax Deductions (401k, HSA)</label>
<input id="pretax" type="number" value="5000">

<label>Self-Employed?</label>
<select id="self">
  <option value="no">No</option>
  <option value="yes">Yes</option>
</select>

<label>Number of Children (CTC)</label>
<input id="children" type="number" value="1">

<label>State</label>
<select id="state">
  <option value="none">No State Tax</option>
  <option value="ca">California</option>
  <option value="ny">New York</option>
  <option value="il">Illinois</option>
  <option value="tx">Texas</option>
  <option value="fl">Florida</option>
</select>

<label>View Mode</label>
<select id="mode">
  <option value="annual">Annual</option>
  <option value="monthly">Monthly</option>
</select>

<button onclick="calculate()">Calculate Tax</button>
</div>

<!-- OUTPUT -->
<div class="card">
<div class="results">
  <div class="result"><h3 id="taxable">$0</h3><small>Taxable Income</small></div>
  <div class="result"><h3 id="federal">$0</h3><small>Federal Tax</small></div>
  <div class="result"><h3 id="stateTax">$0</h3><small>State Tax</small></div>

  <div class="result"><h3 id="fica">$0</h3><small>Payroll / SE Tax</small></div>
  <div class="result"><h3 id="total">$0</h3><small>Total Tax</small></div>
  <div class="result"><h3 id="take">$0</h3><small>Take-Home Pay</small></div>

  <div class="result"><h3 id="eff">0%</h3><small>Effective Rate</small></div>
</div>
</div>

</div>
</div>

<script>
function money(v){return "$"+Math.round(v).toLocaleString()}

/* STANDARD DEDUCTIONS 2024 */
const deduction={
  single:14600, married:29200, separate:14600, head:21900
};

/* FEDERAL BRACKETS (simplified) */
const brackets={
  single:[[0,11000,.10],[11000,44725,.12],[44725,95375,.22]],
  married:[[0,22000,.10],[22000,89450,.12],[89450,190750,.22]],
  separate:[[0,11000,.10],[11000,44725,.12]],
  head:[[0,15700,.10],[15700,59850,.12]]
};

/* STATE TAX (flat for safety) */
const stateRate={
  ca:.06, ny:.058, il:.0495, tx:0, fl:0, none:0
};

function calculate(){
  const income=+incomeEl.value||0;
  const pretax=+pretax.value||0;
  const status=statusEl.value;
  const self=selfEl.value==="yes";
  const kids=+children.value||0;
  const state=stateEl.value;
  const mode=modeEl.value;

  let adj=income-pretax;
  let taxableInc=Math.max(adj-deduction[status],0);

  /* FEDERAL */
  let fed=0;
  for(const [min,max,r] of brackets[status]){
    if(taxableInc>min){
      fed+=(Math.min(taxableInc,max)-min)*r;
    }
  }

  /* CREDITS */
  let ctc=Math.min(kids*2000,fed);
  fed-=ctc;

  /* PAYROLL / SE */
  let fica=0;
  if(self){
    fica=adj*.153;
    adj-=fica/2;
  }else{
    fica=Math.min(adj,168600)*.062+adj*.0145;
  }

  /* STATE */
  let stTax=adj*stateRate[state];

  let totalTax=fed+fica+stTax;
  let takeHome=income-totalTax;
  let eff=(totalTax/income)*100;

  if(mode==="monthly"){
    fed/=12; fica/=12; stTax/=12;
    totalTax/=12; takeHome/=12;
  }

  taxable.innerText=money(taxableInc);
  federal.innerText=money(fed);
  stateTax.innerText=money(stTax);
  ficaEl.innerText=money(fica);
  total.innerText=money(totalTax);
  take.innerText=money(takeHome);
  effEl.innerText=eff.toFixed(1)+"%";
}

/* ELEMENT MAP */
const incomeEl=income, pretaxEl=pretax, statusEl=status;
const selfEl=self, stateEl=state, modeEl=mode;
const ficaEl=fica, effEl=eff;
</script>
</body>
</html>
